---
title: "Case Study: Cyclistic Bike-Share Analysis using R"
author: "Muhammad Saad"
date: "2026-01-09"
output:
  html_document:
    toc: true
    toc_float: true
    theme: flatly
    highlight: tango
    code_folding: show
---


<!--             WARNING MUST READ          -->
<!--             WARNING MUST READ          -->
<!--You first have to run the code chunk 3  because of RDS file in code chunk 1 and also check files path then press KNIT -->
<!--             WARNING MUST READ          -->
<!--             WARNING MUST READ          -->

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE,warning = FALSE,message = FALSE)
all_trips <- readRDS("all_trips.rds")

```

***

**Cyclistic** is a bike-share company aiming to increase annual memberships.
This analysis explores how annual members and casual riders use bikes differently.

***

## Business Task

The primary objective of this analysis is to identify the key differences in how **annual members** and **casual riders** use Cyclistic bikes differently. By uncovering these trends, the marketing team aims to design **data-driven strategies** to convert casual riders—who are already familiar with the service—into long-term annual members.

***

## Stakeholders

- Director of Marketing (Primary stakeholder)
- Marketing Analytics Team
- Cyclistic Executive Team

***

## Data Preparation

In this phase, Cyclistic’s historical trip data is used to analyze and identify usage trends between annual members and casual riders.

### 1. Data Source:
The dataset is publicly available and has been provided by **Motivate International Inc.** under an official data license for educational and analytical use.

### 2. Datasets Used:
For this analysis, I have used the previous **12 months** of Cyclistic trip data. This provides a comprehensive view of rider behavior across all seasons, ensuring a more robust analysis than a single quarter.

### 3. Data Organization:
The data is stored in **CSV format**, where:

- each row represents a single bike trip  
- columns include ride ID, start and end timestamps, user type, and station details  

### 4. Privacy and Ethics:
To protect rider privacy:

- no personally identifiable information (PII), such as credit card numbers or home addresses, is included  
- the data is used strictly for analytical purposes  

### 5. Data Credibility (ROCCC):
The dataset meets the ROCCC criteria:

- **Reliable:** Provided by an established bike-share operator  
- **Original:** Primary source data  
- **Comprehensive:** Contains detailed ride-level information  
- **Current:** Appropriate for the scope of this case study  
- **Cited:** Officially licensed and documented  

This makes the dataset suitable for answering the defined business task.

***

## Process Phase

The processing phase involves cleaning and transforming the raw data to ensure it is accurate and ready for analysis. For this project, **R** was selected to handle the large volume of the 12-month dataset efficiently.

### 1. Environment Setup:

We begin by loading the necessary R packages for data manipulation and date/time operations.

```{r}
# Load core data manipulation packages
library(tidyverse)

# Load date/time manipulation package
library(lubridate)
```

### 2. Data Integration:
The dataset consists of **12 individual CSV** files, each representing one month of ride data. To ensure data integrity, security, and reproducibility, the files were organized using a structured folder system:

* **Folder 1 (case_study_cyclist_using_R):**
This folder was used as the active working directory for data loading, cleaning, and analysis.

* **Folder 2 (case_study_cyclist_using_R_copy):**
This folder contains the original, unmodified CSV files and serves as a backup to prevent accidental data loss or corruption during the cleaning process.

After setting up the environment, all 12 monthly files were merged into a single dataframe `trips_data`,to enable full-year analysis.
The `list.files()` function was used to identify all CSV files within the working directory, while `read_csv()` was applied to read each file. The `map_df()` function from the purrr package was then used to efficiently combine all files into one unified dataframe.

```{r,eval=FALSE}
# Merging 12 months of data into a single dataframe
trips_data <- list.files(
  path = "~/Projects/case_study_cyclist_using_R",
  pattern = "*.csv",
  full.names = TRUE
) %>%
  map_df(~ read_csv(.))

saveRDS(trips_data, "all_trips.rds")
```

Raw CSV files were merged once and saved as an RDS file. For subsequent report generation, the pre-processed dataset was loaded directly to improve efficiency and reduce knitting time. All subsequent cleaning, analysis, and visualization steps were performed using the pre-processed dataset `all_trips` loaded from the RDS file.

### 3. Dataset Overview:
Using the `glimpse()` function, we inspect the structure of the dataset. This reveals the number of rows and columns, the data types of each column, and provides a quick overview. Understanding the dataset structure is essential before creating any visualizations.

```{r }
glimpse(all_trips)
```

### 4. Data Cleaning:
The primary objective of data cleaning was to ensure the dataset was accurate, consistent, and ready for analysis. Below are the systematic steps followed:

#### Column Name Standardization:

Different CSV files may have slight variations in column order or naming conventions.

```{r}
# Standardize to lowercase
all_trips <- all_trips %>%
  rename_with(tolower)   
```

#### Date & Time Format Conversion:
The `started_at` and `ended_at` columns were converted to proper datetime format.
```{r}
all_trips <- all_trips %>%
  mutate(
    started_at = as.POSIXct(started_at),
    ended_at   = as.POSIXct(ended_at)
  )
```

#### Handling Missing Values:

Missing values were identified and station-related gaps were addressed.

```{r}
# Identify missing values
colSums(is.na(all_trips))

# Remove records with missing station names
all_trips <- all_trips %>%
  filter(
    !is.na(start_station_name),
    !is.na(end_station_name)
  )
```

#### Removing Duplicate Records:
Duplicate entries were eliminated to ensure data uniqueness.

```{r}
all_trips <- all_trips %>%
  distinct()
```

#### Validating User Type Categories:
The segmentation variable `member_casual` was verified for consistency.

```{r}
  unique(all_trips$member_casual)
```

#### Final Data Integrity Check:
A comprehensive review ensured data quality before proceeding to analysis.
```{r}
# Data structure overview
glimpse(all_trips)
```

#### Data Cleaning summary:

During the data cleaning process, column names were standardized, date-time formats were corrected, and ride durations were calculated. Records with invalid or negative ride lengths, missing station information, and duplicate entries were removed. Additional variables such as ride length and day of week were created to support behavioral analysis. These steps ensured the dataset was accurate, consistent, and ready for analysis.

### 5. Data Transformation:
To prepare the dataset for analyzing usage differences between annual members and casual riders, several transformation steps were performed to extract meaningful insights from the timestamp data.

#### Column Optimization:
The original dataset contained geographical coordinates **(`start_lat`, `start_lng`, `end_lat`, `end_lng`)**. Since the current analysis focuses on temporal patterns and ride duration rather than precise geographic mapping, these columns were removed to optimize memory usage and simplify the data structure.

```{r}
all_trips <- all_trips %>%
  select(-c(start_lat, start_lng, end_lat, end_lng))
```

#### Feature Engineering:
- **ride_length**: Calculated as the time difference between `ended_at` and `started_at`. This metric is crucial for comparing average trip durations between user types.The `ride_length` variable was converted to numeric format **(minutes)** to enable mathematical operations such as calculating means, medians, and other descriptive statistics. 
```{r}
all_trips <- all_trips %>% 
  mutate(ride_length=difftime(ended_at,started_at,unit="mins"))
```

- **day_of_week**: Extracted from the `started_at` timestamp to analyze daily usage patterns and identify differences between weekdays and weekends.

- **Date Components**: Additional columns for `date`, `month`, `day`, and `year` were created to facilitate seasonal trend analysis and time-series examination.
```{r}
all_trips <- all_trips %>%
  mutate(
    date = as.Date(started_at),
    month = format(date, "%m"),
    day = format(date, "%d"),
    year = format(date, "%Y"),
    day_of_week = format(date, "%A")
  )
```

#### Data Validation:
To ensure analytical accuracy, all invalid records with non-positive ride durations were removed from the dataset.

```{r}
all_trips <- all_trips %>% 
    filter(ride_length > 0)
```

#### Final Verification:
A `glimpse()` function call confirmed the dataset's structural integrity and validated the transformations.

```{r}
glimpse(all_trips)
```

#### Data Transformation summary:
During the data transformation phase, geographical coordinates were removed to optimize performance, and several new temporal variables—`ride_length`, `day_of_week`, `month`, and `year`—were engineered to support granular behavioral analysis. These features allow for a detailed examination of usage patterns over time. Invalid records with non‑positive ride durations were filtered out to maintain data quality, and a final verification step confirmed the dataset’s integrity, ensuring it is clean, structured, and ready for in‑depth analysis.

***

## Analyze Phase
In this phase,I analyzed the cleaned dataset to identify trends and differences in how **annual members** and **casual riders** use Cyclistic bikes.

### 1. Descriptive Statistics:
First, I performed a high-level summary of the `ride_length` to understand the overall distribution of trip durations.

```{r}
# Overall summary of ride_length (in minutes)
summary(as.numeric(all_trips$ride_length))
```

### 2. Comparing Members and Casual Riders:
To answer the core business question, I compared the average and median ride lengths between the two groups.

```{r}
# Comparing mean, median, max, and min ride length by member type
all_trips %>% 
  group_by(member_casual) %>% 
  summarise(
    number_of_rides = n(),
    average_duration = mean(ride_length),
    median_duration = median(ride_length),
    max_duration = max(ride_length)
  )
```

### 3. Analysis by Day of the Week:
I analyzed the number of rides and average duration for each day of the week to see if usage patterns shift between weekdays and weekends.

```{r}
# Fixing the order of days for better analysis
all_trips$day_of_week <- ordered(all_trips$day_of_week, 
                                       levels=c("Sunday", "Monday", "Tuesday", 
                                                "Wednesday", "Thursday", "Friday", "Saturday"))

# Calculating average duration and number of rides by day of week
all_trips %>% 
  group_by(member_casual, day_of_week) %>% 
  summarise(number_of_rides = n(), average_duration = mean(ride_length)) %>% 
  arrange(member_casual, day_of_week)
```

### 4. Analysis by Month:
This step helps identify seasonal trends, which is crucial for the marketing team's strategy.

```{r}
# Analyzing usage trends by month
all_trips%>% 
  group_by(member_casual, month) %>% 
  summarise(number_of_rides = n(), average_duration = mean(ride_length)) %>% 
  arrange(member_casual, month)
```

### Key Insights from Analysis:

#### **1. Ride Duration Patterns**
- **Casual riders** average **14.6–25.4 minutes** per trip across the year, nearly double the **10.1–13.4 minutes** for members
- This suggests **leisure-oriented usage** for casual riders versus **commuting/utility-focused** usage for members.

#### **2. Weekly Usage Patterns**
- **Casual ridership peaks on weekends** (averaging ~25 minutes per trip)
- **Members maintain consistent usage throughout weekdays** (10.1–13.4 minutes)
- Pattern indicates: **Members rely on bikes for work commute**, while **casuals use them for weekend activities**.

#### **3. Seasonal Trends Analysis**
- **Significant growth** in casual rides: from **24,124 in January** to **337,878 in August**, with average durations increasing from **14.6 to 25.4 minutes**
- **Member rides increase more gradually**: from **114,527 in January** to **452,439 in August**, with durations remaining stable between **10.1–13.4 minutes**
- **Recommended marketing focus**: Late spring through summer (**May–August**) represents the optimal period for casual rider engagement and conversion.

#### **4. Profitability Insights**
- While **members dominate total ride volume**, casual riders' **high-usage periods present prime conversion opportunities**
- **Strategic recommendation**: Emphasize the **cost-effectiveness of annual memberships** for frequent, long-duration trips.

***

## Visualizing the Insights
In this phase, I translated the analytical findings into **clear and informative visualizations** to effectively communicate the differences between **annual members** and **casual riders**. The goal is to provide **data-driven evidence** to guide the marketing strategy.

### 1. Visualization Strategy:
To address the business question, I focused on three main visual narratives:

* **Usage Volume:** Comparing the total number of rides between rider types.

* **Behavioral Patterns:** Comparing ride duration and frequency across the days of the week.

* **Seasonality:** Highlighting peak months for casual riders to identify optimal marketing periods.

### 2. Number of Rides by Day of Week:
This chart illustrates **“Commuter vs. Leisure”** behavior.

```{r}
all_trips %>% 
    mutate(day_of_week = wday(started_at, label = TRUE)) %>% 
    group_by(member_casual, day_of_week) %>% 
    summarise(number_of_rides = n(), .groups = 'drop') %>% 
    ggplot(aes(x = day_of_week, y = number_of_rides, fill = member_casual)) +
    geom_col(position = "dodge") +
    labs(
        title = "Total Rides by Day: Members vs. Casual Riders",
        subtitle = "Members dominate weekdays, while casual riders peak on weekends",
        x = "Day of the Week", y = "Number of Rides",
        fill = "Rider Type"
    )+ scale_y_continuous(labels = scales::label_number(scale = 1e-3, suffix = "K")) +
    scale_fill_manual(values = c("#F8766D", "#00BFC4")) +
    theme_minimal()
```

**Insight:** Members ride consistently during weekdays, whereas casual riders peak on weekends.

### 3. Average Ride Duration by Day of Week:
This chart shows that casual riders ride less frequently but for longer durations.

```{r}
all_trips %>% 
  mutate(day_of_week = wday(started_at, label = TRUE)) %>% 
  group_by(member_casual, day_of_week) %>% 
  summarise(average_duration = mean(as.numeric(ride_length)), .groups = 'drop') %>% 
  ggplot(aes(x = day_of_week, y = average_duration, fill = member_casual)) +
  geom_col(position = "dodge") +
  labs(
      title = "Average Trip Duration by Day",
      subtitle = "Casual riders spend significantly more time per ride",
      x = "Day of the Week", y = "Average Duration (Minutes)",
      fill = "Rider Type"
  ) +
  theme_classic()
```

**Insight:** Even with fewer rides, casual riders consistently have longer trips, reflecting leisure usage.

### 4. Monthly Usage Trends (Seasonality):  
This visualization highlights **seasonal ridership trends**, helping the marketing team **time promotions effectively**.

```{r}
all_trips %>% 
    group_by(member_casual, month) %>% 
    summarise(number_of_rides = n(), .groups = 'drop') %>% 
    ggplot(aes(x = month, y = number_of_rides, group = member_casual, color = member_casual)) +
    geom_line(size = 1.2) +
    geom_point() +
    labs(
        title = "Seasonal Trends: Monthly Ride Count",
        subtitle = "Ridership peaks in Summer (June–August)",
        x = "Month", y = "Total Rides",
        color = "Rider Type"
    )+ scale_y_continuous(labels = scales::label_number(scale = 1e-3, suffix = "K")) +
    theme_light()
```

**Insight:** Casual ridership surges in **late spring and summer**, highlighting the optimal window for **marketing campaigns and membership** conversion efforts.

### Visualization Summary:

#### 1. Total Rides by Day (Members vs Casual Riders)

**What we see**
- Members take more rides on weekdays (Monday–Friday)
- Casual riders peak on weekends (Saturday–Sunday)
- Saturday shows the highest casual usage, while member rides drop slightly

**Insight**
- Members mainly use bikes for routine/work-related commuting
- Casual riders use bikes more for leisure and recreational purposes, especially on weekends

#### 2. Average Trip Duration by Day

**What we see**
- Casual riders consistently have longer trip durations than members on all days
- Casual ride duration is highest on weekends, especially Sunday
- Member ride duration stays short and stable throughout the week

**Insight**
- Casual riders take longer, relaxed rides (tourism, enjoyment)
- Members take short, goal-oriented rides (home → work → errands)

#### 3. Seasonal Trends: Monthly Ride Count

**What we see**
- Total rides increase from March, peak during June–August (summer)
- Both rider types reduce usage sharply in winter months (November–February)
- Members always have higher total rides, but casual riders grow rapidly in summer

**Insight**
- Weather strongly affects usage patterns
- Summer presents the optimal conversion opportunity for targeting casual riders

***

## Strategic Recommendations

### Recommendation 1: Weekend Membership Promotions
**Action**: Offer discounted weekend memberships or trial memberships  
**Target**: Casual riders who already ride frequently on weekends  
**Example messaging**: "Convert 3 weekend rides into a monthly membership"  
**Rationale**: Casual riders are most active on weekends and already demonstrate high engagement during these periods.

### Recommendation 2: Convert Long Rides into Value Messaging
**Action**: Promote membership benefits based on cost per minute calculations  
**Approach**: Demonstrate how individual long casual rides are more expensive per trip compared to membership rates  
**Rationale**: Casual riders spend more time per ride, creating higher perceived value for unlimited or discounted membership plans.

### Recommendation 3: Seasonal Digital Marketing (Summer Focus)
**Action**: Implement intensive digital campaigns from May to August  
**Channels**: Social media, app notifications, and email marketing  
**Content focus**: Highlight summer activities such as park visits, sightseeing, and city exploration  
**Rationale**: Summer represents peak demand season and offers the highest probability of converting casual users to members.

*** 

## Conclusion
The Cyclistic bike-share analysis successfully identifies the behavioral divergence between **annual members** and **casual riders**. While annual members utilize the service as a reliable, high-frequency commuting tool during the workweek, casual riders primarily engage with the service for longer, recreational trips on weekends and during the summer season.

The data confirms that casual riders are already satisfied users of the service, representing a high-potential segment for conversion. By implementing targeted marketing strategies—such as seasonal weekend memberships and long-duration ride rewards—Cyclistic can capitalize on these usage patterns. Transitioning these casual riders into annual members will not only drive long-term business growth but also significantly increase overall profitability for the company.



















